# Generated by Anaconda 40.22.3
# Generated by pykickstart v3.52
#version=DEVEL
# Use graphical install
graphical

# Keyboard layouts
keyboard --vckeymap=pl --xlayouts='pl'
# System language
lang pl_PL.UTF-8

# Use network installation
url --mirrorlist="http://mirrors.fedoraproject.org/mirrorlist?repo=fedora-40&arch=x86_64"
repo --name=updates-released --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f40&arch=x86_64

# Partition clearing information
clearpart --all

# Set hostname
network --hostname=fedora-server

%packages
@^server-product-environment
@container-management
docker
wget

%end

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.9.1
ignoredisk --only-use=sda
# System bootloader configuration
bootloader --location=mbr --boot-drive=sda
autopart

# System timezone
timezone Europe/Warsaw --utc

# Root password
rootpw --lock
user --groups=wheel --name=nati --password=$y$j9T$OCcT3DcAy7VIkftvRhsDcUoh$vV9nKN1GbRQ.c3DunXHzEUXeRhOAC3s1ljM7APFtO24 --iscrypted --gecos="natalia borysowska"

%post
# Start Docker service
systemctl enable docker
systemctl start docker

# Log in to Docker Hub
echo "{DOCKER_PASSWORD}" | docker login --username {DOCKER_USERNAME} --password-stdin

# Pull and run the Docker container
docker pull nbsss/tesseractjs:latest
docker run -d --name tesseractjs nbsss/tesseractjs:latest

%end

reboot