FROM node:latest

RUN mkdir in
RUN --mount=type=bind,source=vin,target=/in,rw
RUN mkdir out
RUN --mount=type=bind,source=vout,target=/out,rw
WORKDIR /in
RUN git clone https://github.com/jaspenlind/node-ts-starter-template.git
WORKDIR /in/node-ts-starter-template
RUN npm install
RUN npm run-script build
RUN cp -r node_modules ../../out/new
