# Generated by Anaconda 39.32.6
# Generated by pykickstart v3.48
#version=DEVEL
# Use graphical install
text

# Keyboard layouts
keyboard --vckeymap=pl --xlayouts='pl'
# System language
lang pl_PL.UTF-8

url --mirrorlist="http://mirrors.fedoraproject.org/mirrorlist?repo=fedora-39&arch=x86_64"
repo --name=update --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f39&arch=x86_64

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.8.1
ignoredisk --only-use=sda
autopart
# Partition clearing information
clearpart --all --initlabel

# System timezone
timezone Europe/Warsaw --utc

#Root password
rootpw --lock
user --groups=wheel --name=john --password=$y$j9T$y0nYbyK8bG4D7d36UMN9pa6G$0uQDFS8/6NgXTErzM1Rqc57QVfKsnpjhfH7zLcl9k22 --iscrypted --gecos="john doe"

# Packages to install
%packages
@^server-product-environment
java-17-openjdk
java-17-openjdk-devel
python3
python3-pip
unzip
wget
%end

# Post actions
%post
wget http://172.31.100.202:8000/ghidra.zip -P /tmp
unzip /tmp/ghidra.zip -d /usr/bin/local/
mv /usr/bin/local/ghidra_* /usr/bin/local/ghidra_exec/
rm -rf /usr/bin/local/ghidra
echo "export PATH=$PATH:/usr/bin/local/ghidra_exec" >> /etc/profile
echo "/usr/local/bin/ghidra_exec/ghidraRun" >> /home/john/.bashrc
%end

reboot