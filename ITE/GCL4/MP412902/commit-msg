#!/bin/sh

# Save the commit message file path provided by Git
COMMIT_MSG_FILE="$1"

# Read the commit message from the file
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

# Check if the commit message starts with "MP 412902"
if ! echo "$COMMIT_MSG" | grep -q "^MP 412902"; then
    # If not, prepend "MP 412902" to the commit message
    echo "[MP 412902] $COMMIT_MSG" > "$COMMIT_MSG_FILE"
    echo "Added [MP 412902] prefix to the commit message."
fi
